<!-- loading.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Loading...</title>
    <link rel="stylesheet" href="stylesheets/loading-styles.css"/>
</head>
<body>
    <div class="header">
        <div class="logo">Spotif.ly</div>
    </div>
    <div class="loading-message">
         <h1>Loading...</h1>
    </div>

    <script>
        function checkStatus() {
            fetch('/checkStatus')
                .then(response => response.json())
                .then(data => {
                    if (data.status === 'complete') {
                        window.location.href = '/spotify_tracks.html';
                    } else {
                        setTimeout(checkStatus, 1000); // Check again after 1 second
                    }
                })
                .catch(error => console.error('Error:', error));
        }

        window.onload = checkStatus;
    </script>
</body>
</html>